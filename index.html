<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz h√†i h∆∞·ªõc </title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Arial', sans-serif; overflow:hidden; }

/* Intro */
#intro { position:relative; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; }
.tulip-bg { position:absolute; top:0; left:0; width:100%; height:100%; background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.7)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path fill="%23ff6b6b" d="M50 20 C60 10, 80 15, 80 30 C80 45, 60 50, 50 60 C40 50, 20 45, 20 30 C20 15, 40 10, 50 20 Z"/><path fill="%23ff8e8e" d="M50 60 L45 80 L55 80 Z"/></svg>'); background-size:200px; background-position:center; z-index:-1; filter:blur(2px); }
.petals { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:2; }
.petal { position:absolute; border-radius:50% 0 50% 50%; transform:rotate(45deg); animation:fall linear forwards; }
@keyframes fall { to { transform: translateY(100vh) rotate(360deg); } }

.neon { font-size:60px; margin-bottom:20px; text-shadow:0 0 5px #ff88ff,0 0 10px #ff88ff,0 0 20px #ff88ff,0 0 40px #ff00ff; animation:flicker 1.5s infinite alternate; color:#fff; }
@keyframes flicker { 0%,19%,21%,23%,25%,54%,56%,100% { opacity:1; text-shadow:0 0 5px #ff88ff,0 0 10px #ff88ff,0 0 20px #ff88ff,0 0 40px #ff00ff; } 20%,22%,24%,55% { opacity:0.8; text-shadow:0 0 2px #ff88ff,0 0 5px #ff88ff,0 0 10px #ff88ff,0 0 20px #ff00ff; } }
.subtitle { font-size:24px; margin-bottom:40px; color:#ffd700; text-shadow:0 0 10px rgba(255,215,0,0.5); }

.form-box input, .form-box select { padding:10px; font-size:18px; margin:5px; border-radius:8px; }
.start-btn { padding:18px 50px; font-size:24px; border:none; border-radius:50px; cursor:pointer; background:linear-gradient(45deg,#ff8e53,#ff6b6b,#ff8e8e); color:#fff; box-shadow:0 0 20px rgba(255,107,107,0.7); transition: transform 0.3s, box-shadow 0.3s; font-weight:bold; letter-spacing:1px; }
.start-btn:hover { transform:scale(1.1); box-shadow:0 0 30px rgba(255,107,107,0.9); }

.music-control { position:absolute; bottom:20px; right:20px; background:rgba(255,255,255,0.2); border-radius:50%; width:50px; height:50px; display:flex; justify-content:center; align-items:center; cursor:pointer; backdrop-filter:blur(5px); border:1px solid rgba(255,255,255,0.3); }

#quiz, #result { display:none; flex-direction:column; justify-content:center; align-items:center; text-align:center; min-height:100vh; padding:30px; }
.question { font-size:28px; margin-bottom:15px; color:#ffd700; }
#answerInput { padding:10px; font-size:18px; margin:10px; border-radius:8px; width:300px; }
#roast { margin-top:15px; font-size:18px; min-height:24px; font-weight:bold; }
.score { margin-top:20px; font-size:20px; color:#ff8e8e; }
img { max-width:200px; border-radius:10px; margin-bottom:10px; }

/* Result h·ªìng */
#result { background: linear-gradient(to bottom,#ffb6c1,#ffc0cb); position:relative; overflow:hidden; }
</style>
</head>
<body>
<div id="intro">
  <div class="tulip-bg"></div>
  <div class="petals" id="petals"></div>
  <h1 class="neon">üå∑ C∆°m ch√°o g√¨ ch∆∞a ng∆∞·ªùi ƒë·∫πp üå∑</h1>
  <p class="subtitle">Th·ª≠ th√°ch 10 c√¢u h·ªèi si√™u vui nh·ªôn!</p>
  <div class="form-box" id="playerForm">
    <input type="text" id="name" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n">
    <input type="date" id="dob">
    <select id="gender">
      <option value="">Ch·ªçn gi·ªõi t√≠nh</option>
      <option value="Nam">Nam</option>
      <option value="N·ªØ">N·ªØ</option>
      <option value="Kh√°c">Kh√°c</option>
    </select>
    <br>
    <button class="start-btn" onclick="startGame()">B·∫Øt ƒë·∫ßu ngay</button>
  </div>
  <div class="music-control" onclick="toggleMusic()"><div class="music-icon">üéµ</div></div>
  <audio id="introMusic" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3" type="audio/mpeg">
  </audio>
</div>

<div id="quiz">
  <h2 id="hello"></h2>
  <div class="question" id="question"></div>
  <img id="questionImg" style="display:none;">
  <input type="text" id="answerInput" placeholder="Nh·∫≠p ƒë√°p √°n c·ªßa b·∫°n">
  <button class="start-btn" onclick="submitAnswer()">G·ª≠i ƒë√°p √°n</button>
  <div id="roast"></div>
  <div class="score" id="score"></div>
</div>

<div id="result">
  <div class="petals" id="resultPetals"></div>
  <h2 id="finalText"></h2>
  <button onclick="reload()" class="start-btn">Ch∆°i l·∫°i</button>
</div>

<script>
// C√°nh hoa r∆°i li√™n t·ª•c
function createPetals(containerId){
  const petalsContainer=document.getElementById(containerId);
  const colors=['#ffb6c1','#ffffe0','#add8e6','#dda0dd','#98fb98'];
  setInterval(()=>{
    const p=document.createElement('div');
    p.className='petal';
    const size=Math.random()*20+10;
    p.style.width=p.style.height=size+'px';
    p.style.left=Math.random()*100+'%';
    p.style.top='-'+size+'px';
    p.style.background=colors[Math.floor(Math.random()*colors.length)];
    p.style.animationDuration=(Math.random()*5+5)+'s';
    petalsContainer.appendChild(p);
    setTimeout(()=>{ if(p.parentNode) p.parentNode.removeChild(p); },7000);
  },200);
}
createPetals('petals'); // intro petals

// Nh·∫°c
function playMusic(){ const m=document.getElementById('introMusic'); m.volume=0.5; m.play().catch(()=>console.log('C·∫ßn t∆∞∆°ng t√°c ƒë·ªÉ ph√°t nh·∫°c')); }
function toggleMusic(){ const m=document.getElementById('introMusic'); const icon=document.querySelector('.music-icon'); if(m.paused){ m.play(); icon.textContent='üéµ'; }else{ m.pause(); icon.textContent='üîá'; } }

// ROAST PH√ÇN BI·ªÜT ƒê√öNG/SAI
const correctRoasts = [
  "üéâ Ch√≠nh x√°c! B·∫°n qu√° ƒë·ªânh!",
  "üåü Tuy·ªát v·ªùi! Tr√≠ tu·ªá si√™u ph√†m!",
  "üí´ ƒê√∫ng r·ªìi! B·∫°n th√¥ng minh h∆°n t√¥i nghƒ©!",
  "üî• Qu√° chu·∫©n! N√£o b·∫°n nh∆∞ CPU v·∫≠y!",
  "üöÄ Perfect! B·∫°n ƒëang tr√™n ƒë·ªânh Olympia!",
  "üòé Chu·∫©n kh√¥ng c·∫ßn ch·ªânh! Pro quiz!",
  "üåà Brilliant! C√¢u tr·∫£ l·ªùi ho√†n h·∫£o!",
  "‚≠ê Xu·∫•t s·∫Øc! B·∫°n l√† b·∫≠c th·∫ßy ki·∫øn th·ª©c!",
  "üíØ 100 ƒëi·ªÉm! Kh√¥ng g√¨ c√≥ th·ªÉ l√†m kh√≥ b·∫°n!",
  "üéØ Tr√∫ng ph√≥c! Phong ƒë·ªô qu√° ·ªïn ƒë·ªãnh!"
];

const wrongRoasts = [
  "üíî Sai r·ªìi! H∆°i bu·ªìn nh∆∞ng kh√¥ng sao!",
  "üòÖ √îi kh√¥ng! L·∫ßn sau c·∫©n th·∫≠n h∆°n nh√©!",
  "üåßÔ∏è Ti·∫øc qu√°! C√¢u n√†y h∆°i khoai nh·ªâ?",
  "ü§î Hmm... ch∆∞a ƒë√∫ng r·ªìi, c·ªë l√™n!",
  "üìâ √öi gi·ªùi! Sai m·∫•t r·ªìi!",
  "üò¥ H√¨nh nh∆∞ b·∫°n ƒëang m∆° ng·ªß?",
  "üåÄ R·∫•t ti·∫øc! Th·ª≠ l·∫°i c√¢u sau nh√©!",
  "‚ùå Ch∆∞a ƒë√∫ng! ƒê√°p √°n ƒë√∫ng l√†: ",
  "ü§¶‚Äç‚ôÇÔ∏è √Åi ch√†! L·ª° tay r·ªìi!",
  "üìö √îi! C·∫ßn √¥n b√†i th√™m ch√∫t!"
];

const endRoasts=[
  "Wow, b·∫°n v·ª´a tr·∫£i qua 10 c√¢u th·ª≠ th√°ch m√† v·∫´n t∆∞∆°i r√≥i !Ng∆∞·ªùi ƒë√¢u m√† v·ª´a xinh c√≤n v·ª´a gi·ªèi n·ªØa üòé",
  "C·ª© nh∆∞ b·∫°n ƒëang luy·ªán t·∫≠p ƒë·ªÉ t·ªët h∆°n !ƒê·ªëi v·ªõi t·ªõ b·∫°n ƒë√£ r·∫•t tuy·ªát r·ªìi üòÇ",
  "Ch√∫c m·ª´ng! Kh√¥ng bi·∫øt may hay t√†i nƒÉng "
];

// 30 c√¢u
let allQuestions=[
  { type:'order', text:'S·∫Øp x·∫øp ƒë·ªÉ t·ª´ sau c√≥ nghƒ©a: c/·ªç/n/·ªì/l', correct:'l·ªç c·ªìn' },
  { type:'order', text:'Bu·ªïi nh·∫≠u s·∫Ω ho√†n h·∫£o h∆°n n·∫øu c√≥ c√°i g√¨ :√≥/c/c/√°/l/i/·ªì/n ', correct:'n·ªìi c√° l√≥c' },
  { type:'order', text:'T√™n 1 lo·∫°i c√°: l/√°/√≥/c/c', correct:'c√° l√≥c' },
  { type:'order', text:'Khi v·ªÅ qu√™ ta s·∫Ω th·∫•y ƒë∆∞·ª£c:h/√†/g/n/x/√≥/l/m/·ªì/n', correct:'h·ªìn x√≥m l√†ng' },
  { type:'order', text:'T√™n m·ªôt lo·∫°i ƒë·ªì u·ªëng: p/√†/c/√™/h', correct:'c√† ph√™' },
  { type:'order', text:'M·ªôt m√≥n ƒÉn v·∫∑t n·ªïi ti·∫øng: n/√°/h/b/m/√¨/c/·∫£/h', correct:'b√°nh m√¨ ch·∫£' },
  { type:'idiom', text:'C√≥ c√¥ng m√†i __ c√≥ ng√†y n√™n kim', correct:'s·∫Øt' },
  { type:'idiom', text:'ƒêi m·ªôt ng√†y ƒë√†ng h·ªçc m·ªôt __', correct:'s√†ng kh√¥n' },
  { type:'idiom', text:'N∆∞·ªõc ch·∫£y ƒë√° __', correct:'m√≤n' },
  { type:'idiom', text:'ƒÇn qu·∫£ nh·ªõ k·∫ª __', correct:'tr·ªìng c√¢y' },
  { type:'idiom', text:'M·ªôt c√¢y l√†m ch·∫≥ng n√™n __', correct:'non' },
  { type:'idiom', text:'G·∫ßn m·ª±c th√¨ __', correct:'ƒëen' },
  { type:'idiom', text:'Ch√≠n ng∆∞·ªùi m∆∞·ªùi __', correct:'√Ω' },
  { type:'idiom', text:'L∆∞·ª°i kh√¥ng x∆∞∆°ng __', correct:'nhi·ªÅu ƒë∆∞·ªùng l·∫Øt l√©o' },
  { type:'idiom', text:'N∆∞·ªõc l√™n th√¨ __', correct:'thuy·ªÅn l√™n' },
  { type:'idiom', text:'C√≥ t·∫≠t gi·∫≠t __', correct:'m√¨nh' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Vi·ªát Nam l√†?', correct:'H√† N·ªôi' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Nh·∫≠t B·∫£n l√†?', correct:'Tokyo' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Nga l√†?', correct:'Moscow' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa H√†n Qu·ªëc l√†?', correct:'Seoul' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa ·∫§n ƒê·ªô l√†?', correct:'New Delhi' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Ph√°p l√†?', correct:'Paris' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa M·ªπ l√†?', correct:'Washington D.C.' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Anh l√†?', correct:'London' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa ƒê·ª©c l√†?', correct:'Berlin' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Trung Qu·ªëc l√†?', correct:'B·∫Øc Kinh' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'Vi·ªát Nam', img:'https://upload.wikimedia.org/wikipedia/vi/2/21/Flag_of_Vietnam.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'Nh·∫≠t B·∫£n', img:'https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'Nga', img:'https://upload.wikimedia.org/wikipedia/en/f/f3/Flag_of_Russia.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'H√†n Qu·ªëc', img:'https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'·∫§n ƒê·ªô', img:'https://upload.wikimedia.org/wikipedia/en/4/41/Flag_of_India.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'Ph√°p', img:'https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'M·ªπ', img:'https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'Anh', img:'https://upload.wikimedia.org/wikipedia/en/a/ae/Flag_of_the_United_Kingdom.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'ƒê·ª©c', img:'https://upload.wikimedia.org/wikipedia/en/b/ba/Flag_of_Germany.svg' },
  { type:'flag', text:'Qu·ªëc gia c√≥ l√° c·ªù n√†y?', correct:'Trung Qu·ªëc', img:'https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_the_People%27s_Republic_of_China.svg' },
  { type:'idiom', text:'Th·ªùi gian l√† __', correct:'v√†ng' },
  { type:'idiom', text:'C√° kh√¥ng ƒÉn __ c√° ∆∞∆°n', correct:'mu·ªëi' },
  { type:'idiom', text:'Kh√©o ƒÉn th√¨ no, kh√©o co th√¨ __', correct:'·∫•m' },
  { type:'idiom', text:'H·ªçc th·∫ßy kh√¥ng t√†y h·ªçc __', correct:'b·∫°n' },
  { type:'order', text:'M√≥n ƒÉn v·∫∑t n·ªïi ti·∫øng: p/p/o/c/o/r/n', correct:'popcorn' },
  { type:'order', text:'M·ªôt lo·∫°i h·∫°t: a/l/m/o/d/n', correct:'almond' },
  { type:'order', text:'M√≥n tr√°ng mi·ªáng: i/e/c c/e/r/a/m', correct:'ice cream' },
  { type:'order', text:'M·ªôt lo·∫°i tr√°i c√¢y: t/s/r/b/w/a/r/e/r/y', correct:'strawberry' },
  { type:'order', text:'M·ªôt lo·∫°i n∆∞·ªõc u·ªëng: a/e/t', correct:'tea' },
  { type:'order', text:'M·ªôt lo·∫°i n∆∞·ªõc u·ªëng: c/e/f/o/f/e', correct:'coffee' },
  { type:'order', text:'M·ªôt lo·∫°i b√°nh: p/e/i', correct:'pie' }
];

let chosen=[], index=0, score=0, playerName='';

// B·∫Øt ƒë·∫ßu quiz
function startGame(){
  const n=document.getElementById('name').value.trim();
  const d=document.getElementById('dob').value.trim();
  const g=document.getElementById('gender').value.trim();
  if(!n||!d||!g){ alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!'); return; }
  playerName=n;
  document.getElementById('intro').style.display='none';
  document.getElementById('quiz').style.display='flex';
  playMusic();
  chosen=allQuestions.sort(()=>Math.random()-0.5).slice(0,10);
  index=0; score=0;
  loadQuestion();
}

// Hi·ªÉn th·ªã c√¢u h·ªèi
function loadQuestion(){
  if(index>=chosen.length){ endGame(); return; }
  const q=chosen[index];
  document.getElementById('hello').innerText=`Ch√†o ${playerName}! C√¢u ${index+1}/10`;
  document.getElementById('question').innerText=q.text;
  const imgEl=document.getElementById('questionImg');
  if(q.img){ imgEl.src=q.img; imgEl.style.display='block'; } else { imgEl.style.display='none'; }
  document.getElementById('score').innerText=`ƒêi·ªÉm: ${score}/${chosen.length}`;
  document.getElementById('roast').innerText='';
  document.getElementById('roast').style.color = ''; // Reset m√†u
  document.getElementById('answerInput').value='';
  document.getElementById('answerInput').focus();
}

// G·ª≠i ƒë√°p √°n
function submitAnswer(){
  const userAns=document.getElementById('answerInput').value.trim();
  if(!userAns){ alert("Vui l√≤ng nh·∫≠p ƒë√°p √°n!"); return; }

  const roastEl = document.getElementById('roast');
  let feedback = '';
  
  if(userAns.toLowerCase() === chosen[index].correct.toLowerCase()){ 
    score++;
    // Roast vui khi ƒë√∫ng
    const randomRoast = correctRoasts[Math.floor(Math.random() * correctRoasts.length)];
    feedback = randomRoast;
    roastEl.style.color = '#00ff00'; // M√†u xanh cho ƒë√∫ng
    roastEl.style.textShadow = '0 0 10px rgba(0,255,0,0.5)';
  } else { 
    // Roast bu·ªìn khi sai
    const randomRoast = wrongRoasts[Math.floor(Math.random() * wrongRoasts.length)];
    feedback = randomRoast + ` ƒê√°p √°n ƒë√∫ng: ${chosen[index].correct}`;
    roastEl.style.color = '#ff4444'; // M√†u ƒë·ªè cho sai
    roastEl.style.textShadow = '0 0 10px rgba(255,0,0,0.3)';
  }
  
  roastEl.innerText = feedback;
  index++;
  setTimeout(loadQuestion, 1500);
}

// K·∫øt th√∫c
function endGame(){
  document.getElementById('quiz').style.display='none';
  document.getElementById('result').style.display='flex';
  createPetals('resultPetals'); // c√°nh hoa k·∫øt qu·∫£
  const finalRoast=endRoasts.sort(()=>0.5-Math.random()).slice(0,2).join(' ');
  document.getElementById('finalText').innerText=`${playerName}, b·∫°n ƒë√∫ng ${score}/10! ${finalRoast}`;
}

function reload(){ location.reload(); }

// Th√™m t√≠nh nƒÉng b·∫•m Enter ƒë·ªÉ g·ª≠i ƒë√°p √°n
document.getElementById('answerInput').addEventListener('keypress', function(e) {
  if(e.key === 'Enter') {
    submitAnswer();
  }
});
</script>
</body>
</html>
