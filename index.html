<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C∆°m n∆∞·ªõc g√¨ ch∆∞a ng∆∞·ªùi ƒë·∫πp</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Arial', sans-serif; overflow:hidden; }

/* Intro */
#intro { position:relative; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; }
.tulip-bg { position:absolute; top:0; left:0; width:100%; height:100%; background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.7)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path fill="%23ff6b6b" d="M50 20 C60 10, 80 15, 80 30 C80 45, 60 50, 50 60 C40 50, 20 45, 20 30 C20 15, 40 10, 50 20 Z"/><path fill="%23ff8e8e" d="M50 60 L45 80 L55 80 Z"/></svg>'); background-size:200px; background-position:center; z-index:-1; filter:blur(2px); }
.petals { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:2; }
.petal { position:absolute; border-radius:50% 0 50% 50%; transform:rotate(45deg); animation:fall linear forwards; }
@keyframes fall { to { transform: translateY(100vh) rotate(360deg); } }

.neon { font-size:60px; margin-bottom:20px; text-shadow:0 0 5px #ff88ff,0 0 10px #ff88ff,0 0 20px #ff88ff,0 0 40px #ff00ff; animation:flicker 1.5s infinite alternate; color:#fff; }
@keyframes flicker { 0%,19%,21%,23%,25%,54%,56%,100% { opacity:1; text-shadow:0 0 5px #ff88ff,0 0 10px #ff88ff,0 0 20px #ff88ff,0 0 40px #ff00ff; } 20%,22%,24%,55% { opacity:0.8; text-shadow:0 0 2px #ff88ff,0 0 5px #ff88ff,0 0 10px #ff88ff,0 0 20px #ff00ff; } }
.subtitle { font-size:24px; margin-bottom:40px; color:#ffd700; text-shadow:0 0 10px rgba(255,215,0,0.5); }

.form-box input, .form-box select { padding:10px; font-size:18px; margin:5px; border-radius:8px; }
.start-btn { padding:18px 50px; font-size:24px; border:none; border-radius:50px; cursor:pointer; background:linear-gradient(45deg,#ff8e53,#ff6b6b,#ff8e8e); color:#fff; box-shadow:0 0 20px rgba(255,107,107,0.7); transition: transform 0.3s, box-shadow 0.3s; font-weight:bold; letter-spacing:1px; }
.start-btn:hover { transform:scale(1.1); box-shadow:0 0 30px rgba(255,107,107,0.9); }

.music-control { position:absolute; bottom:20px; right:20px; background:rgba(255,255,255,0.2); border-radius:50%; width:50px; height:50px; display:flex; justify-content:center; align-items:center; cursor:pointer; backdrop-filter:blur(5px); border:1px solid rgba(255,255,255,0.3); }

#quiz, #result { display:none; flex-direction:column; justify-content:center; align-items:center; text-align:center; min-height:100vh; padding:30px; }
.question { font-size:28px; margin-bottom:15px; color:#ffd700; }
#answerInput { padding:10px; font-size:18px; margin:10px; border-radius:8px; width:300px; }
#roast { margin-top:15px; font-size:18px; color:#ffb6c1; min-height:24px; }
.score { margin-top:20px; font-size:20px; color:#ff8e8e; }
img { max-width:200px; border-radius:10px; margin-bottom:10px; }

/* Result h·ªìng */
#result { background: linear-gradient(to bottom,#ffb6c1,#ffc0cb); position:relative; overflow:hidden; }
</style>
</head>
<body>
<div id="intro">
  <div class="tulip-bg"></div>
  <div class="petals" id="petals"></div>
  <h1 class="neon">üå∑ C∆°m n∆∞·ªõc g√¨ ch∆∞a ng∆∞·ªùi ƒë·∫πp üå∑</h1>
  <p class="subtitle">Th·ª≠ th√°ch 10 c√¢u h·ªèi siu zui nh·ªôn ho·∫∑c kh√¥ng vui v·∫ª l·∫Øm kaka</p>
  <div class="form-box" id="playerForm">
    <input type="text" id="name" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n">
    <input type="date" id="dob">
    <select id="gender">
      <option value="">Ch·ªçn gi·ªõi t√≠nh</option>
      <option value="Nam">Nam</option>
      <option value="N·ªØ">N·ªØ</option>
      <option value="Kh√°c">Kh√°c</option>
    </select>
    <br>
    <button class="start-btn" onclick="startGame()">B·∫Øt ƒë·∫ßu ngay</button>
  </div>
  <div class="music-control" onclick="toggleMusic()"><div class="music-icon">üéµ</div></div>
  <audio id="introMusic" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3" type="audio/mpeg">
  </audio>
</div>

<div id="quiz">
  <h2 id="hello"></h2>
  <div class="question" id="question"></div>
  <img id="questionImg" style="display:none;">
  <input type="text" id="answerInput" placeholder="Nh·∫≠p ƒë√°p √°n c·ªßa b·∫°n">
  <button class="start-btn" onclick="submitAnswer()">G·ª≠i ƒë√°p √°n</button>
  <div id="roast"></div>
  <div class="score" id="score"></div>
</div>

<div id="result">
  <div class="petals" id="resultPetals"></div>
  <h2 id="finalText"></h2>
  <button onclick="reload()" class="start-btn">Ch∆°i l·∫°i</button>
</div>

<script>
// C√°nh hoa r∆°i
function createPetals(containerId){
  const petalsContainer=document.getElementById(containerId);
  const colors=['#ffb6c1','#ffffe0','#add8e6','#dda0dd','#98fb98'];
  setInterval(()=>{
    const p=document.createElement('div');
    p.className='petal';
    const size=Math.random()*20+10;
    p.style.width=p.style.height=size+'px';
    p.style.left=Math.random()*100+'%';
    p.style.top='-'+size+'px';
    p.style.background=colors[Math.floor(Math.random()*colors.length)];
    p.style.animationDuration=(Math.random()*5+5)+'s';
    petalsContainer.appendChild(p);
    setTimeout(()=>{ if(p.parentNode) p.parentNode.removeChild(p); },7000);
  },200);
}
createPetals('petals');

// Nh·∫°c
function playMusic(){ const m=document.getElementById('introMusic'); m.volume=0.5; m.play().catch(()=>{}); }
function toggleMusic(){ const m=document.getElementById('introMusic'); const icon=document.querySelector('.music-icon'); if(m.paused){ m.play(); icon.textContent='üéµ'; }else{ m.pause(); icon.textContent='üîá'; } }

// Roast k·∫øt th√∫c
const endRoasts=[
  "Wow, b·∫°n v·ª´a tr·∫£i qua 10 c√¢u th·ª≠ th√°ch th·∫≠t tuy·ªát! B·∫°n ƒë√∫ng l√† ng∆∞·ªùi xinh nh·∫•t tr√™n th·∫ø gian n√†y!",
  "C√≥ v·∫ª nh∆∞ b·∫°n ƒëang luy·ªán t·∫≠p ƒë·ªÉ tr·ªü th√†nh quiz master! C·ªë g·∫Øng l√™n nh√©!",
  "Ch√∫c m·ª´ng! ƒê·ªëi v·ªõi t·ªõ b·∫°n ƒë√£ r·∫•t tuy·ªát r·ªìi!"
];

// 30 c√¢u h·ªèi
let allQuestions=[
  { type:'order', text:'S·∫Øp x·∫øp ƒë·ªÉ t·ª´ sau c√≥ nghƒ©a: c/·ªç/n/·ªì/l', correct:'l·ªç c·ªìn' },
  { type:'order', text:'Bu·ªïi nh·∫≠u s·∫Ω ho√†n h·∫£o h∆°n n·∫øu c√≥ c√°i g√¨ :√≥/c/c/√°/l/i/·ªì/n ', correct:'n·ªìi c√° l√≥c' },
  { type:'order', text:'T√™n 1 lo·∫°i c√°: l/√°/√≥/c/c', correct:'c√° l√≥c' },
  { type:'order', text:'Khi v·ªÅ qu√™ ta s·∫Ω th·∫•y ƒë∆∞·ª£c:h/√†/g/n/x/√≥/l/m/·ªì/n', correct:'h·ªìn x√≥m l√†ng' },
  { type:'order', text:'T√™n m·ªôt lo·∫°i ƒë·ªì u·ªëng: p/√†/c/√™/h', correct:'c√† ph√™' },

  { type:'idiom', text:'C√≥ c√¥ng m√†i ____ c√≥ ng√†y n√™n kim', correct:'s·∫Øt' },
  { type:'idiom', text:'ƒêi m·ªôt ng√†y ƒë√†ng h·ªçc m·ªôt ____', correct:'s√†ng kh√¥n' },
  { type:'idiom', text:'N∆∞·ªõc ch·∫£y ƒë√° ____', correct:'m√≤n' },
  { type:'idiom', text:'ƒÇn qu·∫£ nh·ªõ k·∫ª  ____', correct:'tr·ªìng c√¢y' },
  { type:'idiom', text:'M·ªôt c√¢y l√†m ch·∫≥ng n√™n ____', correct:'non' },

  { type:'song', text:'ƒêo√°n t√™n b√†i h√°t:N·∫øu l√∫c ƒë√≥ em kh√¥ng bu√¥ng tay ‚Ä¶', correct:'N·∫øu L√∫c ƒê√≥' },
  { type:'song', text:'ƒêo√°n t√™n b√†i h√°t:Gieo m·∫ßm th∆∞∆°ng ·ªü n∆°i t√¢m h·ªìn‚Ä¶', correct:'ChƒÉm Hoa' },
  { type:'song', text:'ƒêo√°n t√™n b√†i h√°t:T√¨nh y√™u ch·∫≠m tr·ªÖ ƒë√¥i khi v√†i gi√¢y‚Ä¶', correct:'T√¨nh Y√™u Ch·∫≠m Tr·ªÖ' },
  { type:'song', text:'ƒêo√°n t√™n b√†i h√°t:Ng√†y mai em s·∫Ω ra sao?‚Ä¶', correct:'Ch√∫ng Ta C·ªßa Hi·ªán T·∫°i' },
  { type:'song', text:'ƒêo√°n t√™n b√†i h√°t:Anh s·∫Ω l√† hoa h·∫£i ƒë∆∞·ªùng‚Ä¶', correct:'Hoa H·∫£i ƒê∆∞·ªùng' },

  { type:'image', text:'Ai l√† nh√¢n v·∫≠t n√†y?', correct:'Tr·∫•n Th√†nh', img:'https://upload.wikimedia.org/wikipedia/vi/f/fc/Tran_Thanh_2019.jpg' },
  { type:'image', text:'Ai l√† nh√¢n v·∫≠t n√†y?', correct:'Bray', img:'https://upload.wikimedia.org/wikipedia/vi/5/5a/Bray_image.jpg' },
  { type:'image', text:'Ai l√† nh√¢n v·∫≠t n√†y?', correct:'Jungkook', img:'https://upload.wikimedia.org/wikipedia/commons/8/87/Jungkook_May_2019.jpg' },
  { type:'image', text:'Ai l√† nh√¢n v·∫≠t n√†y?', correct:'Mr.Bear', img:'https://upload.wikimedia.org/wikipedia/commons/3/3f/Mr_Bear_image.jpg' },
  { type:'image', text:'Ai l√† nh√¢n v·∫≠t n√†y?', correct:'Th√†nh C√°t T∆∞ H√£n', img:'https://upload.wikimedia.org/wikipedia/commons/5/51/Genghis_Khan_statue.jpg' },

  { type:'flag', text:'Qu·ªëc gia n√†o c√≥ l√° c·ªù n√†y?', correct:'Vi·ªát Nam', img:'https://upload.wikimedia.org/wikipedia/vi/2/21/Flag_of_Vietnam.svg' },
  { type:'flag', text:'Qu·ªëc gia n√†o c√≥ l√° c·ªù n√†y-vi·∫øt b·∫±ng ti·∫øng anh?', correct:'Nh·∫≠t B·∫£n', img:'https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg' },
  { type:'flag', text:'Qu·ªëc gia n√†o c√≥ l√° c·ªù n√†y?', correct:'Nga', img:'https://upload.wikimedia.org/wikipedia/en/f/f3/Flag_of_Russia.svg' },
  { type:'flag', text:'Qu·ªëc gia n√†o c√≥ l√° c·ªù n√†y-vi·∫øt b·∫±ng ti·∫øng anh?', correct:'H√†n Qu·ªëc', img:'https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg' },
  { type:'flag', text:'Qu·ªëc gia n√†o c√≥ l√° c·ªù n√†y?', correct:'·∫§n ƒê·ªô', img:'https://upload.wikimedia.org/wikipedia/en/4/41/Flag_of_India.svg' },

  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Vi·ªát Nam l√†?', correct:'H√† N·ªôi' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Nh·∫≠t B·∫£n l√†?', correct:'Tokyo' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa Nga l√†?', correct:'Moscow' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa H√†n Qu·ªëc l√†?', correct:'Seoul' },
  { type:'capital', text:'Th·ªß ƒë√¥ c·ªßa ·∫§n ƒê·ªô l√†?', correct:'New Delhi' }
];

let chosen=[], index=0, score=0, playerName='';

// B·∫Øt ƒë·∫ßu game
function startGame(){
  const n=document.getElementById('name').value.trim();
  const d=document.getElementById('dob').value.trim();
  const g=document.getElementById('gender').value.trim();
  if(!n||!d||!g){ alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!'); return; }
  playerName=n;
  document.getElementById('intro').style.display='none';
  document.getElementById('quiz').style.display='flex';
  playMusic();
  chosen=allQuestions.sort(()=>Math.random()-0.5).slice(0,10);
  index=0; score=0;
  loadQuestion();
}

// Hi·ªán c√¢u h·ªèi
function loadQuestion(){
  if(index>=chosen.length){ endGame(); return; }
  const q=chosen[index];
  document.getElementById('hello').innerText=`Ch√†o ${playerName}! C√¢u ${index+1}/10`;
  document.getElementById('question').innerText=q.text;
  const imgEl=document.getElementById('questionImg');
  if(q.img){ imgEl.src=q.img; imgEl.style.display='block'; } else { imgEl.style.display='none'; }
  document.getElementById('score').innerText=`ƒêi·ªÉm: ${score}/${chosen.length}`;
  document.getElementById('roast').innerText='';
  document.getElementById('answerInput').value='';
  document.getElementById('answerInput').focus();
}

// G·ª≠i ƒë√°p √°n (ƒë√£ s·ª≠a)
function submitAnswer(){
  const userAns=document.getElementById('answerInput').value.trim();
  if(!userAns){ alert("Vui l√≤ng nh·∫≠p ƒë√°p √°n!"); return; }

  // ƒê·∫°i t·ª´ nh√¢n x∆∞ng
  const birthYear = new Date(document.getElementById('dob').value).getFullYear();
  const gender = document.getElementById('gender').value;
  let pronoun = '';
  if(birthYear > 2007 && gender==='N·ªØ') pronoun = 'Ch·ªã';
  else if(birthYear === 2007) pronoun = 'C·∫≠u';
  else pronoun = 'Em';

  // Ki·ªÉm tra ƒë√∫ng/sai
  const isCorrect = userAns.toLowerCase() === chosen[index].correct.toLowerCase();

  // Roast vui & bu·ªìn
  const goodRoasts = [
    "Gi·ªèi qu√° tr·ªùi lu√¥n üòé",
    "X·ªãn x√≤ th·ª±c s·ª± üòÜ",
    "ƒê·ªânh kout lu√¥n √° üëë",
    "Tr·ªùi ∆°i th√¥ng minh d·ªØ v·∫≠y üòç",
    "Chu·∫©n kh√¥ng c·∫ßn ch·ªânh lu√¥n ‚ú®"
  ];

  const badRoasts = [
    "Tr·ªùi ∆°i‚Ä¶ sai m·∫•t r·ªìi bu·ªìn gh√™ üò≠",
    "Sai r·ªìi, bu·ªìn nh·∫π lu√¥n üò¢",
    "C√¢u n√†y ƒëi h∆°i l·ªëp nha üòî",
    "Sai m·∫•t ti√™u r·ªìi‚Ä¶ ti·∫øc gh√™ üò•",
    "∆†‚Ä¶ ti√™u th·∫≠t r·ªìi üòü"
  ];

  let feedback = "";

  if(isCorrect){
    score++;
    const roastVui = goodRoasts[Math.floor(Math.random()*goodRoasts.length)];
    feedback = roastVui.replace(/B·∫°n/g, pronoun);
  } else {
    const roastBuon = badRoasts[Math.floor(Math.random()*badRoasts.length)];
    feedback = roastBuon.replace(/B·∫°n/g, pronoun) + ` (ƒê√°p √°n ƒë√∫ng: ${chosen[index].correct})`;
  }

  document.getElementById('roast').innerText = feedback;
  index++;
  setTimeout(loadQuestion,1200);
}

// K·∫øt th√∫c
function endGame(){
  document.getElementById('quiz').style.display='none';
  document.getElementById('result').style.display='flex';
  createPetals('resultPetals');
  const finalRoast=endRoasts.sort(()=>0.5-Math.random()).slice(0,2).join(' ');
  document.getElementById('finalText').innerText=`${playerName}, b·∫°n ƒë√∫ng ${score}/10! ${finalRoast}`;
}

function reload(){ location.reload(); }
</script>
</body>
</html>
